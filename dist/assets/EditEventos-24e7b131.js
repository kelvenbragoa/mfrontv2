import{u as _e,r as p,a as me,h as ee,o as pe,b as f,c as A,d as le,e,f as s,w as ve,g as l,n,p as c,t as u,k as he,l as be,j as fe,s as m,q as v}from"./index-b670bd76.js";import{b as oe,s as ge}from"./APIConstant-43486e71.js";import{u as Ve}from"./vee-validate.esm-a565d278.js";import{c as ye,a as r}from"./index.esm-a7e89c92.js";const we={key:0,className:"card"},Ue={class:"col-12"},ke={class:"card-w-title"},xe=e("i",{class:"pi pi-angle-left"},null,-1),Pe=e("h5",null,"Editar Eventos",-1),Se=e("small",{class:"p-error"},"Os campos marcados * sao considerados campos obrigatorios.",-1),qe={class:"col-12 md:col-12"},Ce={class:"card p-fluid"},Be=e("h5",null,"Formulário Criação de Eventos",-1),De=e("h5",null,"Informação Geral",-1),Ee={class:"field"},Le=e("label",{for:"name"},"Nome",-1),Fe={id:"name-help",class:"p-error"},Te={class:"formgrid grid"},Ie={class:"field col"},$e=e("label",{for:"province_id"},"Provincia",-1),Re={id:"province_id-help",class:"p-error"},Ne={class:"field col"},ze=e("label",{for:"city_id"},"Cidade",-1),Me={id:"city_id-help",class:"p-error"},We={class:"field"},He=e("label",{for:"description"},"Descrição do Evento",-1),je={id:"description-help",class:"p-error"},Ae={class:"formgrid grid"},Ge={class:"field col"},Oe=e("label",{for:"main_category_id"},"Categoria Principal",-1),Ye={id:"main_category_id-help",class:"p-error"},Je={class:"field col"},Ke=e("label",{for:"second_category_id"},"Categoria Secundário",-1),Qe={id:"second_category_id-help",class:"p-error"},Xe={class:"field col"},Ze=e("label",{for:"type_event_id"},"Tipo de Eventos",-1),el={id:"type_event_id-help",class:"p-error"},ll=e("h5",null,"Localização e Data do Evento",-1),ol={class:"field"},al=e("label",{for:"address"},"Endereço",-1),tl={id:"address-help",class:"p-error"},sl={class:"formgrid grid"},il={class:"field col"},dl=e("label",{for:"start_date"},"Data de Inicio",-1),nl={id:"start_date-help",class:"p-error"},rl={class:"field col"},ul=e("label",{for:"start_time"},"Horas de Inicio",-1),cl={id:"start_time-help",class:"p-error"},_l={class:"formgrid grid"},ml={class:"field col"},pl=e("label",{for:"end_date"},"Data de Termino",-1),vl={id:"end_date-help",class:"p-error"},hl={class:"field col"},bl=e("label",{for:"end_time"},"Horas de Termino",-1),fl={id:"end_time-help",class:"p-error"},gl=e("h5",null,"Contactos para Informações",-1),Vl={class:"field"},yl=e("label",{for:"email"},"Email",-1),wl={id:"email-help",class:"p-error"},Ul={class:"field"},kl=e("label",{for:"phone"},"Telefone",-1),xl={id:"phone-help",class:"p-error"},Pl={class:"field"},Sl=e("label",{for:"website"},"Website",-1),ql={id:"website-help",class:"p-error"},Cl=e("h5",null,"Redes Sociais",-1),Bl={class:"field"},Dl=e("label",{for:"instagram"},"Instagram",-1),El={id:"instagram-help",class:"p-error"},Ll={class:"field"},Fl=e("label",{for:"facebook"},"Facebook",-1),Tl={id:"facebook-help",class:"p-error"},Il={class:"field"},$l=e("label",{for:"twitter"},"Twitter",-1),Rl={id:"twitter-help",class:"p-error"},Nl={class:"field"},zl=e("label",{for:"youtube"},"Video Youtube Promocional",-1),Ml={id:"youtube-help",class:"p-error"},Wl={class:"field"},Hl=e("label",{for:"youtube"},"Estado",-1),jl={class:"col-12 lg:col-6 xl:col-6"},Al=["src"],Gl=e("h5",null,"Imagem Capa",-1),Ol={class:"field"},Yl=e("label",{for:"image"},"Imagem",-1),Jl={key:1,class:"text-center"},Kl=e("p",null,"Por Favor Aguarde...",-1),oo={__name:"EditEventos",setup(Ql){const h=_e(),M=p(!0),b=p(!1),G=p([]),O=p([]),Y=p([]),J=p([]),W=p([]),i=p([]),H=me();function K(){h&&h.back()}const ae=ye({name:r().required().trim().label("Nome"),province_id:r().required().trim().label("Provincia"),city_id:r().required().trim().label("Cidade"),status_id:r().required().trim().label("Status"),description:r().required().label("Descricao"),main_category_id:r().required().label("CategoriaPrincipal"),second_category_id:r().required().label("CategoriaSec"),type_event_id:r().required().label("Province"),address:r().required().label("Province"),start_date:r().required().label("Province"),start_time:r().required().label("Province"),end_date:r().required().label("Province"),end_time:r().required().label("Province"),email:r().required().label("Province"),phone:r().required().label("Province"),website:r().required().label("Province"),instagram:r().required().label("Province"),facebook:r().required().label("Province"),twitter:r().required().label("Province"),youtube:r().required().label("Province")}),{defineField:d,handleSubmit:te,resetForm:se,errors:t,setErrors:ie}=Ve({validationSchema:ae}),[g]=d("name"),[V]=d("province_id"),[y]=d("city_id"),[w]=d("status_id"),[U]=d("description"),[k]=d("main_category_id"),[x]=d("second_category_id"),[P]=d("type_event_id"),[S]=d("address"),[q]=d("start_date"),[C]=d("start_time"),[B]=d("end_date"),[D]=d("end_time"),[E]=d("email"),[L]=d("phone"),[F]=d("website"),[T]=d("instagram"),[I]=d("facebook"),[$]=d("twitter"),[R]=d("youtube"),[N]=d("_method"),z=p(),de=p(),ne=_=>{z.value=_.files[0],console.log(z.value)},j=te(_=>{z.value!=null&&(_.image=z.value),console.log(_),b.value=!0,ee.post(`${oe}/promotor-eventos/${h.currentRoute.value.params.id}`,_,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{se(),h.push({path:"/admin/eventos"}),H.add({severity:"success",summary:"Successo",detail:"Registro editado com sucesso",life:3e3})}).catch(o=>{b.value=!1,H.add({severity:"error",summary:`${o.response.data.message}`,detail:"Detalhe da Mensagem",life:3e3}),o.response.data.errors&&ie(o.response.data.errors)}).finally(()=>{b.value=!1})}),re=()=>{ee.get(`${oe}/promotor-eventos/${h.currentRoute.value.params.id}/edit`).then(_=>{i.value=_.data.event,G.value=_.data.province,O.value=_.data.city,W.value=_.data.category,Y.value=_.data.status,J.value=_.data.typeevent,g.value=i.value.name,V.value=i.value.province_id,y.value=i.value.city_id,w.value=i.value.status_id,U.value=i.value.description,k.value=i.value.main_category_id,x.value=i.value.second_category_id,P.value=i.value.type_event_id,S.value=i.value.address,q.value=i.value.start_date,C.value=i.value.start_time,B.value=i.value.end_date,D.value=i.value.end_time,E.value=i.value.email,L.value=i.value.phone,F.value=i.value.website,T.value=i.value.instagram,I.value=i.value.facebook,$.value=i.value.twitter,R.value=i.value.youtube,de.value=i.value.image,N.value="put",M.value=!1}).catch(_=>{M.value=!1,H.add({severity:"error",summary:`${_}`,detail:"Message Detail",life:3e3}),K()})};return pe(()=>{re()}),(_,o)=>{const Q=f("Button"),ue=f("Textarea"),X=f("Calendar"),ce=f("FileUpload"),Z=f("ProgressSpinner");return M.value?(A(),le("div",Jl,[s(Z,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),Kl])):(A(),le("div",we,[e("div",Ue,[e("div",ke,[s(Q,{label:"Voltar",class:"mr-2 mb-2",onClick:K},{default:ve(()=>[xe,fe(" Voltar")]),_:1}),Pe]),Se,e("form",{onSubmit:o[21]||(o[21]=(...a)=>l(j)&&l(j)(...a))},[e("div",qe,[e("div",Ce,[Be,De,e("div",Ee,[Le,s(l(m),{modelValue:l(g),"onUpdate:modelValue":o[0]||(o[0]=a=>n(g)?g.value=a:null),id:"name",type:"text",class:c({"p-invalid":l(t).name})},null,8,["modelValue","class"]),e("small",Fe,u(l(t).name),1)]),e("div",Te,[e("div",Ie,[$e,s(l(v),{modelValue:l(V),"onUpdate:modelValue":o[1]||(o[1]=a=>n(V)?V.value=a:null),options:G.value,optionLabel:"name",optionValue:"id",placeholder:"Selecionar",class:c({"p-invalid":l(t).province_id})},null,8,["modelValue","options","class"]),e("small",Re,u(l(t).province_id),1)]),e("div",Ne,[ze,s(l(v),{modelValue:l(y),"onUpdate:modelValue":o[2]||(o[2]=a=>n(y)?y.value=a:null),options:O.value,optionLabel:"name",optionValue:"id",placeholder:"Selecionar",class:c({"p-invalid":l(t).city_id})},null,8,["modelValue","options","class"]),e("small",Me,u(l(t).city_id),1)])]),e("div",We,[He,s(ue,{rows:"5",modelValue:l(U),"onUpdate:modelValue":o[3]||(o[3]=a=>n(U)?U.value=a:null),id:"description",type:"text",class:c({"p-invalid":l(t).description})},null,8,["modelValue","class"]),e("small",je,u(l(t).description),1)]),e("div",Ae,[e("div",Ge,[Oe,s(l(v),{modelValue:l(k),"onUpdate:modelValue":o[4]||(o[4]=a=>n(k)?k.value=a:null),options:W.value,optionLabel:"name",optionValue:"id",placeholder:"Selecionar",class:c({"p-invalid":l(t).main_category_id})},null,8,["modelValue","options","class"]),e("small",Ye,u(l(t).main_category_id),1)]),e("div",Je,[Ke,s(l(v),{modelValue:l(x),"onUpdate:modelValue":o[5]||(o[5]=a=>n(x)?x.value=a:null),options:W.value,optionLabel:"name",optionValue:"id",placeholder:"Selecionar",class:c({"p-invalid":l(t).second_category_id})},null,8,["modelValue","options","class"]),e("small",Qe,u(l(t).second_category_id),1)]),e("div",Xe,[Ze,s(l(v),{modelValue:l(P),"onUpdate:modelValue":o[6]||(o[6]=a=>n(P)?P.value=a:null),options:J.value,optionLabel:"name",optionValue:"id",placeholder:"Selecionar",class:c({"p-invalid":l(t).type_event_id})},null,8,["modelValue","options","class"]),e("small",el,u(l(t).type_event_id),1)])]),ll,e("div",ol,[al,s(l(m),{modelValue:l(S),"onUpdate:modelValue":o[7]||(o[7]=a=>n(S)?S.value=a:null),id:"address",type:"text",class:c({"p-invalid":l(t).address})},null,8,["modelValue","class"]),e("small",tl,u(l(t).address),1)]),e("div",sl,[e("div",il,[dl,s(X,{showIcon:!0,showButtonBar:!0,modelValue:l(q),"onUpdate:modelValue":o[8]||(o[8]=a=>n(q)?q.value=a:null)},null,8,["modelValue"]),e("small",nl,u(l(t).start_date),1)]),e("div",rl,[ul,s(l(m),{modelValue:l(C),"onUpdate:modelValue":o[9]||(o[9]=a=>n(C)?C.value=a:null),id:"start_time",type:"time",class:c({"p-invalid":l(t).start_time})},null,8,["modelValue","class"]),e("small",cl,u(l(t).start_time),1)])]),e("div",_l,[e("div",ml,[pl,s(X,{showIcon:!0,showButtonBar:!0,modelValue:l(B),"onUpdate:modelValue":o[10]||(o[10]=a=>n(B)?B.value=a:null)},null,8,["modelValue"]),e("small",vl,u(l(t).end_date),1)]),e("div",hl,[bl,s(l(m),{modelValue:l(D),"onUpdate:modelValue":o[11]||(o[11]=a=>n(D)?D.value=a:null),id:"end_time",type:"time",class:c({"p-invalid":l(t).end_time})},null,8,["modelValue","class"]),e("small",fl,u(l(t).end_time),1)])]),gl,e("div",Vl,[yl,s(l(m),{modelValue:l(E),"onUpdate:modelValue":o[12]||(o[12]=a=>n(E)?E.value=a:null),id:"email",type:"text",class:c({"p-invalid":l(t).email})},null,8,["modelValue","class"]),e("small",wl,u(l(t).email),1)]),e("div",Ul,[kl,s(l(m),{modelValue:l(L),"onUpdate:modelValue":o[13]||(o[13]=a=>n(L)?L.value=a:null),id:"phone",type:"text",class:c({"p-invalid":l(t).phone})},null,8,["modelValue","class"]),e("small",xl,u(l(t).phone),1)]),e("div",Pl,[Sl,s(l(m),{modelValue:l(F),"onUpdate:modelValue":o[14]||(o[14]=a=>n(F)?F.value=a:null),id:"website",type:"text",class:c({"p-invalid":l(t).website})},null,8,["modelValue","class"]),e("small",ql,u(l(t).website),1)]),Cl,e("div",Bl,[Dl,s(l(m),{modelValue:l(T),"onUpdate:modelValue":o[15]||(o[15]=a=>n(T)?T.value=a:null),id:"instagram",type:"text",class:c({"p-invalid":l(t).instagram})},null,8,["modelValue","class"]),e("small",El,u(l(t).instagram),1)]),e("div",Ll,[Fl,s(l(m),{modelValue:l(I),"onUpdate:modelValue":o[16]||(o[16]=a=>n(I)?I.value=a:null),id:"facebook",type:"text",class:c({"p-invalid":l(t).facebook})},null,8,["modelValue","class"]),e("small",Tl,u(l(t).facebook),1)]),e("div",Il,[$l,s(l(m),{modelValue:l($),"onUpdate:modelValue":o[17]||(o[17]=a=>n($)?$.value=a:null),id:"twitter",type:"text",class:c({"p-invalid":l(t).twitter})},null,8,["modelValue","class"]),e("small",Rl,u(l(t).twitter),1)]),e("div",Nl,[zl,s(l(m),{modelValue:l(R),"onUpdate:modelValue":o[18]||(o[18]=a=>n(R)?R.value=a:null),id:"youtube",type:"text",class:c({"p-invalid":l(t).youtube})},null,8,["modelValue","class"]),s(l(m),{modelValue:l(N),"onUpdate:modelValue":o[19]||(o[19]=a=>n(N)?N.value=a:null),id:"_method",type:"hidden"},null,8,["modelValue"]),e("small",Ml,u(l(t).youtube),1)]),e("div",Wl,[Hl,s(l(v),{modelValue:l(w),"onUpdate:modelValue":o[20]||(o[20]=a=>n(w)?w.value=a:null),options:Y.value,optionLabel:"name",optionValue:"id",placeholder:"Selecionar",class:c({"p-invalid":l(t).status_id})},null,8,["modelValue","options","class"])]),e("div",jl,[e("img",{src:l(ge)+i.value.image,alt:"",weigth:"500",height:"500",style:{"border-radius":"15px"}},null,8,Al)]),Gl,e("div",Ol,[Yl,s(ce,{mode:"basic",name:"image[]",accept:"image/*",auto:"",maxFileSize:1e6,customUpload:"",onUploader:ne})])]),s(Q,{label:"Submeter",class:"mr-2 mb-2",onClick:l(j),disabled:b.value},null,8,["onClick","disabled"]),b.value?(A(),he(Z,{key:0,style:{width:"35px",height:"35px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})):be("",!0)])],32)])]))}}};export{oo as default};
