import{_ as B,a as P,r as n,V as E,b as l,c as d,d as f,e,f as s,w as g,l as v,k as T,j as k,p as L,q as M,Q as N,h as U,z as x}from"./index-4c06444b.js";import{_ as j}from"./logo-a4a09fa4.js";import{b as D}from"./APIConstant-7cd3c3b1.js";const a=i=>(L("data-v-52a2c3fe"),i=i(),M(),i),q={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},A={class:"flex flex-column align-items-center justify-content-center"},R=a(()=>e("img",{src:N,alt:"Sakai logo",class:"mb-5 w-6rem flex-shrink-0"},null,-1)),$={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},z={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},J={class:"text-center mb-5"},O=a(()=>e("img",{src:j,alt:"Image",height:"50",class:"mb-3"},null,-1)),Q=a(()=>e("p",{class:"text-600 font-medium"},"Entre com a sua conta!",-1)),W=a(()=>e("p",{class:"text-600 font-medium"},"Acesse a todos o eventos em uma só plataforma..",-1)),F={key:0},G=a(()=>e("label",{for:"email1",class:"block text-900 text-xl font-medium mb-2"},"Telefone/Email",-1)),H=a(()=>e("label",{for:"password1",class:"block text-900 font-medium text-xl mb-2"},"Palavra passe",-1)),K={class:"flex align-items-center justify-content-between mb-5 gap-5"},X={class:"flex align-items-center"},Y=a(()=>e("label",{for:"rememberme1"},"Remember me",-1)),Z={key:1,class:"text-center mb-5"},ee=a(()=>e("span",null,"Ainda não tem uma conta?",-1)),te={__name:"Login",setup(i){const b=P(),m=n(""),u=n(""),h=n(!1),c=n(!1),_=n(""),w=()=>{c.value=!0,U.post(`${D}/login`,{email:m.value.toLowerCase(),password:u.value}).then(t=>{console.log(t.data.access_token),localStorage.setItem("token",t.data.access_token),localStorage.setItem("user",JSON.stringify(t.data.user)),b.add({severity:"success",summary:"Successo",detail:"Message Detail",life:3e3}),t.data.user.role_id==1&&x.replace("/admin/dashboard"),t.data.user.role_id==2&&(t.data.user.is_promotor==1?x.replace("/promotor/dashboard"):x.replace("/"))}).catch(t=>{_.value=t.response.data.message,b.add({severity:"error",summary:`${t.response.data.message}`,detail:"Message Detail",life:3e3})}).finally(()=>{c.value=!1})};return E(()=>{localStorage.getItem("token")}),(t,o)=>{const p=l("router-link"),y=l("Button"),S=l("InputText"),V=l("Password"),I=l("Checkbox"),C=l("ProgressSpinner");return d(),f("div",q,[e("div",A,[s(p,{to:"/"},{default:g(()=>[R]),_:1}),e("div",$,[e("div",z,[e("div",J,[O,Q,W,_.value?(d(),f("div",F,[s(y,{label:_.value,class:"mr-2",severity:"danger"},null,8,["label"])])):v("",!0)]),e("div",null,[G,s(S,{id:"email1",type:"text",placeholder:"Telefone/Email",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"},modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=r=>m.value=r)},null,8,["modelValue"]),H,s(V,{id:"password1",modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=r=>u.value=r),placeholder:"Palavra passe",toggleMask:!0,class:"w-full mb-3",inputClass:"w-full",inputStyle:{padding:"1rem"},feedback:!1},null,8,["modelValue"]),e("div",K,[e("div",X,[s(I,{modelValue:h.value,"onUpdate:modelValue":o[2]||(o[2]=r=>h.value=r),id:"rememberme1",binary:"",class:"mr-2"},null,8,["modelValue"]),Y]),s(p,{to:"",class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},{default:g(()=>[k("Esqueceu password?")]),_:1})]),c.value?v("",!0):(d(),T(y,{key:0,label:"Entrar",class:"w-full p-3 text-xl",onClick:w})),c.value?(d(),f("div",Z,[s(C,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})])):v("",!0),e("p",null,[ee,s(p,{to:"/register",class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},{default:g(()=>[k("Se registre agora")]),_:1})])])])])])])}}},le=B(te,[["__scopeId","data-v-52a2c3fe"]]);export{le as default};
