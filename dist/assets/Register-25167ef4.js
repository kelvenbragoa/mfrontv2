import{O as N,K as R,r,a as T,C as M,b as n,c as m,d as c,e,f as l,w as U,l as p,k as E,j,Q as D,S as L,_ as $,h as J,x as h}from"./index-b670bd76.js";import{_ as O}from"./logo-a4a09fa4.js";import{b as A}from"./APIConstant-43486e71.js";const a=u=>(D("data-v-f750e166"),u=u(),L(),u),K={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},Q={class:"flex flex-column align-items-center justify-content-center"},W=a(()=>e("img",{src:$,alt:"Sakai logo",class:"mb-5 w-6rem flex-shrink-0"},null,-1)),q={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},z={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},F={class:"text-center mb-5"},G=a(()=>e("img",{src:O,alt:"Image",height:"50",class:"mb-3"},null,-1)),H=a(()=>e("p",{class:"text-600 font-medium"},"Registrar nova conta!",-1)),X=a(()=>e("p",{class:"text-600 font-medium"},"Acesse a todos o eventos em uma só plataforma..",-1)),Y={key:0},Z=a(()=>e("label",{for:"name",class:"block text-900 text-xl font-medium mb-2"},"Nome Completo",-1)),ee=a(()=>e("label",{for:"email1",class:"block text-900 text-xl font-medium mb-2"},"Email",-1)),oe=a(()=>e("label",{for:"mobile",class:"block text-900 text-xl font-medium mb-2"},"Telefone",-1)),te=a(()=>e("label",{for:"user",class:"block text-900 text-xl font-medium mb-2"},"Tipo de Usuário",-1)),ae={class:"field-radiobutton mb-2"},le=a(()=>e("label",{for:"option1"},"User Normal",-1)),se={class:"field-radiobutton mb-2"},re=a(()=>e("label",{for:"option2"},"Promotor",-1)),ne=a(()=>e("label",{for:"password1",class:"block text-900 font-medium text-xl mb-2"},"Palavra passe",-1)),de=a(()=>e("label",{for:"password1",class:"block text-900 font-medium text-xl mb-2"},"Confirmar Palavra passe",-1)),ie={key:1,class:"text-center mb-5"},me={key:2},ue=a(()=>e("span",null,"Já tem uma conta?",-1)),ce={__name:"Register",setup(u){const{layoutConfig:P}=R(),_=r(""),f=r(""),v=r(""),d=r(!1),g=r(""),y=T(),i=r(""),b=r(""),w=r("");r(!1),M(()=>`/layout/images/${P.darkTheme.value?"logo-white":"logo-dark"}.svg`);const I=()=>{d.value=!0,J.post(`${A}/register`,{name:_.value,email:f.value.toLowerCase(),mobile:v.value,is_promotor:i.value,password:b.value}).then(s=>{console.log(s.data.access_token),localStorage.setItem("token",s.data.access_token),localStorage.setItem("user",JSON.stringify(s.data.user)),y.add({severity:"success",summary:"Successo",detail:"Message Detail",life:3e3}),s.data.user.role_id==1&&h.replace("/admin/dashboard"),s.data.user.role_id==2&&(s.data.user.is_promotor==1?h.replace("/promotor/dashboard"):h.replace("/"))}).catch(s=>{g.value=s.response.data.message,y.add({severity:"error",summary:`${s.response.data.message}`,detail:"Message Detail",life:3e3})}).finally(()=>{d.value=!1})};return(s,o)=>{const k=n("router-link"),V=n("Button"),x=n("InputText"),C=n("RadioButton"),S=n("Password"),B=n("ProgressSpinner");return m(),c("div",K,[e("div",Q,[l(k,{to:"/"},{default:U(()=>[W]),_:1}),e("div",q,[e("div",z,[e("div",F,[G,H,X,g.value?(m(),c("div",Y,[l(V,{label:g.value,class:"mr-2",severity:"danger"},null,8,["label"])])):p("",!0)]),e("div",null,[Z,l(x,{id:"name",type:"text",placeholder:"Nome Completo",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"},modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=t=>_.value=t)},null,8,["modelValue"]),ee,l(x,{id:"email1",type:"text",placeholder:"Email",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"},modelValue:f.value,"onUpdate:modelValue":o[1]||(o[1]=t=>f.value=t)},null,8,["modelValue"]),oe,l(x,{id:"mobile",type:"text",placeholder:"Telefone",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"},modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=t=>v.value=t)},null,8,["modelValue"]),te,e("div",ae,[l(C,{id:"option1",name:"is_promotor",value:"0",modelValue:i.value,"onUpdate:modelValue":o[3]||(o[3]=t=>i.value=t)},null,8,["modelValue"]),le]),e("div",se,[l(C,{id:"option2",name:"is_promotor",value:"1",modelValue:i.value,"onUpdate:modelValue":o[4]||(o[4]=t=>i.value=t)},null,8,["modelValue"]),re]),ne,l(S,{id:"password1",modelValue:b.value,"onUpdate:modelValue":o[5]||(o[5]=t=>b.value=t),placeholder:"Palavra passe",toggleMask:!0,class:"w-full mb-3",inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["modelValue"]),de,l(S,{id:"password1",modelValue:w.value,"onUpdate:modelValue":o[6]||(o[6]=t=>w.value=t),placeholder:"Confirmar Palavra passe",toggleMask:!0,class:"w-full mb-3",inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["modelValue"]),d.value?p("",!0):(m(),E(V,{key:0,label:"Rgistrar",class:"w-full p-3 text-xl",onClick:I})),d.value?(m(),c("div",ie,[l(B,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})])):p("",!0),d.value?p("",!0):(m(),c("p",me,[ue,l(k,{to:"/login",class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},{default:U(()=>[j("Entre com sua conta")]),_:1})]))])])])])])}}},ve=N(ce,[["__scopeId","data-v-f750e166"]]);export{ve as default};
