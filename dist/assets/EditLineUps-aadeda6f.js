import{u as I,r,a as M,h as q,o as W,b as L,c as S,d as N,e,f as o,w as j,g as s,s as u,v as m,t as _,k as z,l as A,j as G,x as p}from"./index-4c06444b.js";import{b as w}from"./APIConstant-7cd3c3b1.js";import{u as O}from"./vee-validate.esm-153206bd.js";import{c as J,a as n}from"./index.esm-7b5acfa1.js";import"./moment-a9aaa855.js";const K={key:0,className:"card"},Q={class:"col-12"},X={class:"card-w-title"},Y=e("i",{class:"pi pi-angle-left"},null,-1),Z=e("h5",null,"Editar LineUp",-1),ee=e("small",{class:"p-error"},"Os campos marcados * sao considerados campos obrigatorios.",-1),se={class:"col-12 md:col-12"},te={class:"card p-fluid"},ae=e("h5",null,"Formulário Criação de LineUp",-1),le=e("h5",null,"Informação Geral",-1),oe={class:"field"},ie=e("label",{for:"name"},"Nome",-1),de={id:"name-help",class:"p-error"},re={class:"field"},ne=e("label",{for:"description"},"Descrição",-1),ce={id:"description-help",class:"p-error"},ue={class:"formgrid grid"},me={class:"field col"},_e=e("label",{for:"start_date"},"Data de Inicio",-1),pe={id:"start_date-help",class:"p-error"},ve={class:"field col"},fe=e("label",{for:"start_time"},"Horas de Inicio",-1),he={id:"start_time-help",class:"p-error"},be={class:"formgrid grid"},ge={class:"field col"},Ve=e("label",{for:"end_date"},"Data de Termino",-1),ye={id:"end_date-help",class:"p-error"},ke={class:"field col"},De=e("label",{for:"end_time"},"Horas de Termino",-1),xe={id:"end_time-help",class:"p-error"},Ue={key:1,class:"text-center"},Se=e("p",null,"Por Favor Aguarde...",-1),we={__name:"EditLineUps",setup(Ce){const v=I(),D=r(!1),f=r(!1),i=r();r([]),r([]),r([]),r([]);const x=M();function C(){v&&v.back()}const E=J({name:n().required().trim().label("Nome"),description:n().required().trim().label("Descricao"),event_id:n().required().label("Evento"),start_date:n().required().label("Data"),start_time:n().required().label("Horas"),end_date:n().required().label("Data"),end_time:n().required().label("Horas")}),{defineField:d,handleSubmit:F,resetForm:P,errors:l,setErrors:R}=O({validationSchema:E}),[h]=d("name"),[H]=d("event_id"),[b]=d("description"),[g]=d("start_date"),[V]=d("start_time"),[y]=d("end_date"),[k]=d("end_time"),U=F(c=>{f.value=!0,q.put(`${w}/promotor-lineups/${v.currentRoute.value.params.idlineup}`,c).then(t=>{P(),v.back(),x.add({severity:"success",summary:"Successo",detail:"LineUp alterado com sucesso",life:3e3})}).catch(t=>{f.value=!1,x.add({severity:"error",summary:`${t.response.data.message}`,detail:"Detalhe da Mensagem",life:3e3}),t.response.data.errors&&R(t.response.data.errors)}).finally(()=>{f.value=!1})}),T=()=>{q.get(`${w}/promotor-lineups/${v.currentRoute.value.params.idlineup}/edit`).then(c=>{i.value=c.data.lineup,h.value=i.value.name,H.value=i.value.event_id,V.value=i.value.start_time,k.value=i.value.end_time,g.value=i.value.start_date,y.value=i.value.end_date,b.value=i.value.description,D.value=!1}).catch(c=>{D.value=!1,x.add({severity:"error",summary:`${c}`,detail:"Message Detail",life:3e3}),C()})};return W(()=>{T()}),(c,t)=>{const B=L("Button"),$=L("ProgressSpinner");return D.value?(S(),N("div",Ue,[o($,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),Se])):(S(),N("div",K,[e("div",Q,[e("div",X,[o(B,{label:"Voltar",class:"mr-2 mb-2",onClick:C},{default:j(()=>[Y,G(" Voltar")]),_:1}),Z]),ee,e("form",{onSubmit:t[6]||(t[6]=(...a)=>s(U)&&s(U)(...a))},[e("div",se,[e("div",te,[ae,le,e("div",oe,[ie,o(s(p),{modelValue:s(h),"onUpdate:modelValue":t[0]||(t[0]=a=>u(h)?h.value=a:null),id:"name",type:"text",class:m({"p-invalid":s(l).name})},null,8,["modelValue","class"]),e("small",de,_(s(l).name),1)]),e("div",re,[ne,o(s(p),{modelValue:s(b),"onUpdate:modelValue":t[1]||(t[1]=a=>u(b)?b.value=a:null),id:"description",type:"text",class:m({"p-invalid":s(l).description})},null,8,["modelValue","class"]),e("small",ce,_(s(l).description),1)]),e("div",ue,[e("div",me,[_e,o(s(p),{modelValue:s(g),"onUpdate:modelValue":t[2]||(t[2]=a=>u(g)?g.value=a:null),id:"start_date",type:"date",class:m({"p-invalid":s(l).start_date})},null,8,["modelValue","class"]),e("small",pe,_(s(l).start_date),1)]),e("div",ve,[fe,o(s(p),{modelValue:s(V),"onUpdate:modelValue":t[3]||(t[3]=a=>u(V)?V.value=a:null),id:"start_time",type:"time",class:m({"p-invalid":s(l).start_time})},null,8,["modelValue","class"]),e("small",he,_(s(l).start_time),1)])]),e("div",be,[e("div",ge,[Ve,o(s(p),{modelValue:s(y),"onUpdate:modelValue":t[4]||(t[4]=a=>u(y)?y.value=a:null),id:"end_date",type:"date",class:m({"p-invalid":s(l).end_date})},null,8,["modelValue","class"]),e("small",ye,_(s(l).end_date),1)]),e("div",ke,[De,o(s(p),{modelValue:s(k),"onUpdate:modelValue":t[5]||(t[5]=a=>u(k)?k.value=a:null),id:"end_time",type:"time",class:m({"p-invalid":s(l).end_time})},null,8,["modelValue","class"]),e("small",xe,_(s(l).end_time),1)])])]),o(B,{label:"Submeter",class:"mr-2 mb-2",onClick:s(U),disabled:f.value},null,8,["onClick","disabled"]),f.value?(S(),z($,{key:0,style:{width:"35px",height:"35px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})):A("",!0)])],32)])]))}}};export{we as default};
