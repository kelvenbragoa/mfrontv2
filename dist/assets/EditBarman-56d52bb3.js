import{u as I,r,a as M,h as U,o as W,b as E,c as S,d as q,e,f as t,w as j,g as a,s as c,v as _,t as V,k as z,l as A,j as G,x as y,y as O}from"./index-4c06444b.js";import{b as w}from"./APIConstant-7cd3c3b1.js";import{u as H}from"./vee-validate.esm-153206bd.js";import{c as J,a as p}from"./index.esm-7b5acfa1.js";import"./moment-a9aaa855.js";const K={key:0,className:"card"},Q={class:"col-12"},X={class:"card-w-title"},Y=e("i",{class:"pi pi-angle-left"},null,-1),Z=e("h5",null,"Editar Barman",-1),ee=e("small",{class:"p-error"},"Os campos marcados * sao considerados campos obrigatorios.",-1),ae={class:"col-12 md:col-12"},se={class:"card p-fluid"},oe=e("h5",null,"Formulário Edição de Barmans",-1),le=e("h5",null,"Informação Geral",-1),te={class:"field"},ie=e("label",{for:"name"},"Nome",-1),re={id:"name-help",class:"p-error"},ne={class:"field"},de=e("label",{for:"mobile"},"Telefone",-1),ue={id:"mobile-help",class:"p-error"},me={class:"field"},ce=e("label",{for:"bi"},"BI",-1),_e={id:"bi-help",class:"p-error"},pe={class:"field"},be=e("label",{for:"bar_store_id"},"Bar",-1),ve={id:"bar_store_id-help",class:"p-error"},fe={key:1,class:"text-center"},he=e("p",null,"Por Favor Aguarde...",-1),Se={__name:"EditBarman",setup(ge){const d=I(),k=r(!1),u=r(!1),n=r(),C=r([]);r([]),r([]),r([]);const B=M();function $(){d&&d.back()}const F=J({name:p().required().trim().label("Nome"),bi:p().required().trim().label("BI"),mobile:p().required().trim().label("Telefeone"),bar_store_id:p().required().trim().label("barstore"),event_id:p().required().label("Evento")}),{defineField:m,handleSubmit:P,resetForm:R,errors:l,setErrors:L}=H({validationSchema:F}),[b]=m("name"),[v]=m("event_id"),[f]=m("bi"),[h]=m("mobile"),[g]=m("bar_store_id"),x=P(i=>{u.value=!0,U.put(`${w}/promotor-barman/${d.currentRoute.value.params.idbarman}`,i).then(s=>{R(),d.back(),B.add({severity:"success",summary:"Successo",detail:"Barman alterado com sucesso",life:3e3})}).catch(s=>{u.value=!1,B.add({severity:"error",summary:`${s.response.data.message}`,detail:"Detalhe da Mensagem",life:3e3}),s.response.data.errors&&L(s.response.data.errors)}).finally(()=>{u.value=!1})}),T=()=>{U.get(`${w}/promotor-barman/${d.currentRoute.value.params.idbarman}/edit`).then(i=>{n.value=i.data.barman,b.value=n.value.name,f.value=n.value.bi,h.value=n.value.mobile,v.value=n.value.event_id,g.value=n.value.bar_store_id,C.value=i.data.barstore,k.value=!1}).catch(i=>{k.value=!1,B.add({severity:"error",summary:`${i}`,detail:"Message Detail",life:3e3}),$()})};return W(()=>{T()}),(i,s)=>{const D=E("Button"),N=E("ProgressSpinner");return k.value?(S(),q("div",fe,[t(N,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),he])):(S(),q("div",K,[e("div",Q,[e("div",X,[t(D,{label:"Voltar",class:"mr-2 mb-2",onClick:$},{default:j(()=>[Y,G(" Voltar")]),_:1}),Z]),ee,e("form",{onSubmit:s[5]||(s[5]=(...o)=>a(x)&&a(x)(...o))},[e("div",ae,[e("div",se,[oe,le,e("div",te,[ie,t(a(y),{modelValue:a(b),"onUpdate:modelValue":s[0]||(s[0]=o=>c(b)?b.value=o:null),id:"name",type:"text",class:_({"p-invalid":a(l).name})},null,8,["modelValue","class"]),t(a(y),{modelValue:a(v),"onUpdate:modelValue":s[1]||(s[1]=o=>c(v)?v.value=o:null),id:"event_id",type:"hidden",class:_({"p-invalid":a(l).event_id})},null,8,["modelValue","class"]),e("small",re,V(a(l).name),1)]),e("div",ne,[de,t(a(y),{modelValue:a(h),"onUpdate:modelValue":s[2]||(s[2]=o=>c(h)?h.value=o:null),id:"mobile",type:"text",class:_({"p-invalid":a(l).mobile})},null,8,["modelValue","class"]),e("small",ue,V(a(l).mobile),1)]),e("div",me,[ce,t(a(y),{modelValue:a(f),"onUpdate:modelValue":s[3]||(s[3]=o=>c(f)?f.value=o:null),id:"bi",type:"text",class:_({"p-invalid":a(l).bi})},null,8,["modelValue","class"]),e("small",_e,V(a(l).bi),1)]),e("div",pe,[be,t(a(O),{modelValue:a(g),"onUpdate:modelValue":s[4]||(s[4]=o=>c(g)?g.value=o:null),options:C.value,optionLabel:"name",optionValue:"id",placeholder:"Selecionar",class:_({"p-invalid":a(l).bar_store_id})},null,8,["modelValue","options","class"]),e("small",ve,V(a(l).bar_store_id),1)])]),t(D,{label:"Submeter",class:"mr-2 mb-2",onClick:a(x),disabled:u.value},null,8,["onClick","disabled"]),u.value?(S(),z(N,{key:0,style:{width:"35px",height:"35px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})):A("",!0)])],32)])]))}}};export{Se as default};
