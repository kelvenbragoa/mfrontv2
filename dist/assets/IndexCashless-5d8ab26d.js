import{_ as D}from"./cashless-8d1db1bd.js";import{u as I,a as B,r as a,o as M,b as p,c as t,d as c,e as s,f as i,l as u,k as S,h as f}from"./index-da4e25fd.js";import{b as g}from"./APIConstant-3b96cd31.js";import"./index.esm-8e4dfa6c.js";import"./moment-a9aaa855.js";import"./lodash-a8a05f48.js";const V={class:"surface-0 flex justify-content-center"},P={class:"flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},$={class:"flex flex-column align-items-center justify-content-center"},L={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},j={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},N={class:"text-center mb-5"},R=s("img",{src:D,alt:"Image",height:"300",class:"mb-3"},null,-1),T=s("p",{class:"text-600 font-medium"},"Recarregue a sua pulseira!",-1),U={key:0},E={key:1},W=s("label",{for:"email1",class:"block text-900 text-xl font-medium mb-2"},"#ID da Pulseira/Cartão",-1),q={key:1,class:"text-center mb-5"},O={__name:"IndexCashless",setup(z){const h=I(),d=B(),v=a(!0),x=a({data:[]}),o=a(!1),l=a(""),r=a(""),n=a(""),y=()=>{o.value=!0,f.post(`${g}/cashless`,{card:l.value.toLowerCase()}).then(e=>{r.value=null,n.value=e.data.message,d.add({severity:"success",summary:"Successo",detail:"Message Detail",life:3e3}),h.push(`recargas/${l.value.toLowerCase()}`)}).catch(e=>{r.value=e.response.data.message,n.value=null,d.add({severity:"error",summary:`${e.response.data.message}`,detail:"Message Detail",life:3e3})}).finally(()=>{o.value=!1})},b=async()=>{f.get(`${g}/homepage`).then(e=>{x.value=e.data,v.value=!1}).catch(e=>{v.value=!1,d.add({severity:"error",summary:`${e}`,detail:"Message Detail",life:3e3}),localStorage.removeItem("token"),localStorage.removeItem("user")})};return M(()=>{b()}),(e,_)=>{const m=p("Button"),k=p("InputText"),C=p("ProgressSpinner");return t(),c("div",V,[s("div",P,[s("div",$,[s("div",L,[s("div",j,[s("div",N,[R,T,r.value?(t(),c("div",U,[i(m,{label:r.value,class:"mr-2",severity:"danger"},null,8,["label"])])):u("",!0),n.value?(t(),c("div",E,[i(m,{label:n.value,class:"mr-2",severity:"success"},null,8,["label"])])):u("",!0)]),s("div",null,[W,i(k,{id:"email1",type:"text",placeholder:"Insira o número da sua pulseira",class:"w-full mb-5",style:{padding:"1rem"},modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=w=>l.value=w)},null,8,["modelValue"]),o.value?u("",!0):(t(),S(m,{key:0,label:"Procurar",class:"w-full p-3 text-xl",onClick:y})),o.value?(t(),c("div",q,[i(C,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"})])):u("",!0)])])])])])])}}};export{O as default};
