import{u as w,r as t,a as N,h as p,o as P,b as h,c as v,d as f,e,f as g,w as q,j as r,t as a}from"./index-da4e25fd.js";import{b}from"./APIConstant-3b96cd31.js";import{u as C}from"./vee-validate.esm-f9eb7de3.js";import{c as F,a as c}from"./index.esm-8e4dfa6c.js";import"./moment-a9aaa855.js";const V={key:0,className:"card"},M={class:"col-12"},R={class:"card-w-title"},L=e("i",{class:"pi pi-angle-left"},null,-1),A=e("p",null,"Detalhes do Bilhete",-1),E=e("strong",null,"Nome: ",-1),T=e("strong",null,"Descrição: ",-1),U=e("strong",null,"Preço: ",-1),j=e("strong",null,"Quantidade Máxima: ",-1),I=e("strong",null,"Data Inicio: ",-1),Q=e("strong",null,"Data Fim: ",-1),W={key:1,class:"text-center"},z=e("p",null,"Por Favor Aguarde...",-1),Z={__name:"ShowBilhetes",setup(G){const l=w(),d=t(!0),u=t(!1),s=t(),m=N();t([]),t([]),t([]),t([]),t([]),t(!1);function _(){l&&l.back()}const y=F({name:c().required().label("Name"),address:c().required().label("Address"),city:c().required().label("City"),province_id:c().required().label("Province")}),{defineField:n,handleSubmit:k,resetForm:D,errors:H,setErrors:x}=C({validationSchema:y});n("name"),n("address"),n("city"),n("province_id"),k(o=>{console.log("Submitted with",o),u.value=!0,p.post(`${b}/drivers`,o).then(i=>{D(),l.push({path:"/drivers"}),m.add({severity:"success",summary:"Successo",detail:"Registro criada com sucesso",life:3e3})}).catch(i=>{u.value=!1,m.add({severity:"error",summary:`${i.response.data.message}`,detail:"Detalhe da Mensagem",life:3e3}),i.response.data.errors&&x(i.response.data.errors)}).finally(()=>{u.value=!1})});const B=()=>{p.get(`${b}/promotor-tickets/${l.currentRoute.value.params.idbilhetes}`).then(o=>{s.value=o.data.ticket,d.value=!1}).catch(o=>{d.value=!1,m.add({severity:"error",summary:`${o}`,detail:"Message Detail",life:3e3}),_()})};return P(()=>{B()}),(o,i)=>{const S=h("Button"),$=h("ProgressSpinner");return d.value?(v(),f("div",W,[g($,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),z])):(v(),f("div",V,[e("div",M,[e("div",R,[g(S,{label:"Voltar",class:"mr-2 mb-2",onClick:_},{default:q(()=>[L,r(" Voltar")]),_:1})]),A,e("p",null,[E,r(a(s.value.name),1)]),e("p",null,[T,r(a(s.value.description),1)]),e("p",null,[U,r(a(s.value.price),1)]),e("p",null,[j,r(a(s.value.max_qtd),1)]),e("p",null,[I,r(" "+a(s.value.start_date)+" - "+a(s.value.start_time),1)]),e("p",null,[Q,r(" "+a(s.value.end_date)+" - "+a(s.value.end_time),1)])])]))}}};export{Z as default};
